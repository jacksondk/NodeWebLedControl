<html>

<head>
    <title>LED Control</title>
</head>

<body>
    <button id="turnOff">Turn Off</button>

    <button id="low">Low</button>

    <div class="slidecontainers">
        <div>
            <input type="range" min="0" max="255" value="50" class="slider" id="red1">
            <input type="range" min="0" max="255" value="50" class="slider" id="green1">
            <input type="range" min="0" max="255" value="50" class="slider" id="blue1">
        </div>
        <div>
            <input type="range" min="0" max="255" value="50" class="slider" id="red2">
            <input type="range" min="0" max="255" value="50" class="slider" id="green2">
            <input type="range" min="0" max="255" value="50" class="slider" id="blue2">
        </div>
        <button id="setColor">Set Color</button>
    </div>

    <p id="status"></p>


    <script type="application/javascript">
        document.getElementById("turnOff").onclick = () => {
            fetch('/turnoff', { method: 'POST' }).then(response => {
                document.getElementById("status").innerText = response.statusText;
            });
        };

        document.getElementById("low").onclick = () => {
            fetch('/color', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json;charset=utf-8'
                },
                body: JSON.stringify({ color1: [3, 0, 0], color2: [2,0,0] })
            }).then(response => {
                document.getElementById("status").innerText = response.statusText;
            });
        };
        document.getElementById("setColor").onclick = () => {
            let red1 = parseInt(document.getElementById("red1").value)
            let green1 = parseInt(document.getElementById("green1").value)
            let blue1 = parseInt(document.getElementById("blue1").value)
            let red2 = parseInt(document.getElementById("red2").value)
            let green2 = parseInt(document.getElementById("green2").value)
            let blue2 = parseInt(document.getElementById("blue2").value)
            fetch('/color', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json;charset=utf-8'
                },
                body: JSON.stringify({ color1: [red1, green1, blue1], color2: [red2, green2, blue2] })
            }).then(response => {
                document.getElementById("status").innerText = response.statusText;
            });
        };

    </script>

</body>

</html>